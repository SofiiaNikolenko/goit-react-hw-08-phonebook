"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[622],{622:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var r=t(942),a=t(413),o=t(439),u=t(791),i=t(434),s=t(162),c=function(n){return n.contacts.items},l=function(n){return n.contacts.isLoading},h=t(184),m=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,d=function(){var n=(0,i.v9)(c),e=(0,i.I0)(),t=(0,u.useState)({name:"",phone:""}),l=(0,o.Z)(t,2),d=l[0],p=l[1],f=(0,u.useState)({name:"",phone:""}),x=(0,o.Z)(f,2),j=x[0],v=x[1],b=function(n){var e=n.target,t=e.name,o=e.value;p((0,a.Z)((0,a.Z)({},d),{},(0,r.Z)({},t,o)))};return(0,h.jsxs)("form",{autoComplete:"off",onSubmit:function(t){t.preventDefault();var r=d.name,o=d.phone;n.some((function(n){return n.name===r}))?alert("".concat(r," is already in contacts")):r&&o?m.test(o)?(e((0,s.je)({name:r,number:o.toString()})),p({name:"",phone:""})):v((0,a.Z)((0,a.Z)({},j),{},{phone:"Phone number is not valid"})):v({name:r?"":"Name should not be empty",phone:o?"":"Phone number should not be empty"})},children:[(0,h.jsx)("div",{children:(0,h.jsxs)("label",{children:["Name",(0,h.jsx)("input",{type:"text",name:"name",value:d.name,onChange:b}),j.name&&(0,h.jsx)("span",{children:j.name})]})}),(0,h.jsx)("div",{children:(0,h.jsxs)("label",{children:["Number",(0,h.jsx)("input",{type:"tel",name:"phone",value:d.phone,onChange:b}),j.phone&&(0,h.jsx)("span",{children:j.phone})]})}),(0,h.jsx)("button",{type:"submit",children:"Add contact"})]})},p=function(n){var e=n.id,t=n.name,r=n.number,a=(0,i.I0)();return(0,h.jsxs)("li",{children:[t,": ",r,(0,h.jsx)("button",{type:"button",onClick:function(n){a((0,s.xX)(e))},children:"Delete"})]})},f=function(n){return n.filter};var x=function(){var n=(0,i.v9)(c),e=(0,i.v9)(f),t=n.filter((function(n){return n.name.toUpperCase().includes(e.toUpperCase())}));return(0,h.jsx)(h.Fragment,{children:n.length>0&&t.map((function(n){var e=n.id,t=n.name,r=n.phone;return(0,h.jsx)(p,{id:e,name:t,number:r},Number(e))}))})},j=t(474),v=t(78);var b=function(){var n=(0,i.I0)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("label",{htmlFor:"",children:"Find contacts by name"}),(0,h.jsx)("input",{type:"text",id:"findContacts",onChange:function(e){n((0,v.bI)(e.target.value))}})]})},g=function(){var n=(0,i.I0)(),e=(0,i.v9)((function(n){return n.auth.token})),t=(0,i.v9)(l);return(0,u.useEffect)((function(){e&&n((0,s.VC)())}),[e,n]),(0,h.jsx)(h.Fragment,{children:t?(0,h.jsx)(j.Z,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h1",{children:"Phonebook"}),(0,h.jsx)(d,{}),(0,h.jsx)(b,{}),(0,h.jsx)("h2",{children:"Contacts"}),(0,h.jsx)(x,{})]})})}}}]);
//# sourceMappingURL=622.1213a179.chunk.js.map